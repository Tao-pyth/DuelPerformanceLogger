#:kivy 2.2.1
#:import dp kivy.metrics.dp

<SeasonRegistrationScreen>:
    MDBoxLayout:
        orientation: "vertical"

        AppToolbar:
            title: root.t("season_registration.header_title")
            left_action_items: [["arrow-left", lambda x: root.change_screen("season_list")]]
            right_action_items: [["home", lambda x: root.change_screen("menu")]]

        MDScrollView:
            MDBoxLayout:
                orientation: "vertical"
                padding: (dp(24), dp(24), dp(24), dp(24))
                spacing: dp(16)
                size_hint_y: None
                height: self.minimum_height

                MDTextField:
                    id: name_field
                    hint_text: root.t("season_registration.name_hint")
                    helper_text: root.t("common.required_helper")
                    helper_text_mode: "on_focus"
                    text: root.name_text
                    on_text: root.name_text = self.text

                MDTextField:
                    id: description_field
                    hint_text: root.t("season_registration.description_hint")
                    multiline: True
                    max_text_length: 200
                    text: root.description_text
                    on_text: root.description_text = self.text

                MDLabel:
                    text: root.t("season_registration.schedule_section_title")
                    theme_text_color: "Secondary"

                MDBoxLayout:
                    orientation: "vertical"
                    spacing: dp(12)

                    MDBoxLayout:
                        spacing: dp(12)
                        size_hint_y: None
                        height: dp(72)

                        MDTextField:
                            id: start_date_field
                            hint_text: root.t("season_registration.start_date_hint")
                            text: root.start_date_text
                            on_text: root.start_date_text = self.text

                        MDTextField:
                            id: start_time_field
                            hint_text: root.t("season_registration.start_time_hint")
                            text: root.start_time_text
                            on_text: root.start_time_text = self.text

                    MDBoxLayout:
                        spacing: dp(12)
                        size_hint_y: None
                        height: dp(72)

                        MDTextField:
                            id: end_date_field
                            hint_text: root.t("season_registration.end_date_hint")
                            text: root.end_date_text
                            on_text: root.end_date_text = self.text

                        MDTextField:
                            id: end_time_field
                            hint_text: root.t("season_registration.end_time_hint")
                            text: root.end_time_text
                            on_text: root.end_time_text = self.text

        MDBoxLayout:
            padding: (dp(24), dp(12), dp(24), dp(24))
            spacing: dp(16)
            size_hint_y: None
            height: dp(72)

            SecondaryFlatButton:
                text: root.t("season_registration.back_to_list")
                on_release: root.change_screen("season_list")

            PrimaryRaisedButton:
                text: root.t("common.register")
                on_release: root.register_season()
